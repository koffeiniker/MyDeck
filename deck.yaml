---

- name: ProDeck
  hosts: localhost
  connection: local

  vars:
    nvidia:
      install: true
      version: 525

  roles:
    - regolith
    - googlechrome
    - vscode
    - thunderbird
    - office
    - media
    - clitools
    - emacs
    - role: obs
      tags: obs
    - communication
    - virtualbox
    - hashicorp
    - role: vmware-workstation
      tags: vmw
    - role: alacritty
      tags: term
    - role: nvidia
    - music
    - role: ssg
      tags: ssg
    - role: system-stats
      tags: stats
    - role: remote
      tags: rem
    - borg
    - role: docker
      tags: docker

  tasks:

    - name: add some python
      apt:
        name:
          - python3-venv
      become: true
      tags:
        - python

    - name: adding alias to bashrc
      lineinfile:
        path: ~/.bash_aliases
        regex: "alias play="
        line: "alias play=ansible-playbook"
        create: yes
      
    - name: Install a selection of snap-apps
      snap:
        name:
          - openscad
      become: true      
      tags:
        - snaps
      
